<script>
$(document).ready(function(){
  var table = $({$id});
  var handler = table.data('handler');
  var columns = table.data('table-columns') ? table.data('table-columns').split(',') : [];

  table.on( 'init.dt', function () {
        $.nette.load();
  } );

  table.on( 'draw.dt', function () {
    $.nette.load();
  } );

  table.dataTable( {
    oLanguage: {
      sUrl: {$language},
    },
    processing: true,
    serverSide: true,
    deferRender: true,
    ajax: {
    url: handler,
    data: function(d) {
      d.tableColumns = columns;
    }
    },
    columns: {$columns},
    {if count($actions)}
    columnDefs: [ {
      targets: -1,
      orderable: false,
      data: null,
      defaultContent: {$actions}
    } ],

    {/if}
  });
});

function handleAction(element) {
  var rowId = $(element).closest('tr').attr('id');
  var link = $(element).data('link') + '?id=' + rowId;
  location.replace(link);
}
</script>